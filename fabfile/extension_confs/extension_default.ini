[main]
postgres_versions: ['14.5', '15beta4']
extensions: ['citus', 'hll', 'topn', 'tdigest', 'auto_explain']
test_count: 4

[citus]
contrib: False
preload: True
create: True
configure: True
repo_url: https://github.com/citusdata/citus.git
git_ref: release-11.1
relative_test_path: ./src/test/regress

[hll]
contrib: False
preload: False
create: True
configure: False
repo_url: https://github.com/citusdata/postgresql-hll.git
git_ref: v2.16
relative_test_path: .

[topn]
contrib: False
preload: False
create: True
configure: False
repo_url: https://github.com/citusdata/postgresql-topn.git
git_ref: v2.5.0
relative_test_path: .

[tdigest]
contrib: False
preload: False
create: True
configure: False
repo_url: https://github.com/tvondra/tdigest.git
git_ref: v1.4.0
relative_test_path: .

[auto_explain]
contrib: True
preload: True
create: False
configure: False
relative_test_path: .


[test-1]
ext_to_test: hll
dep_order: citus,hll
test_command: make installcheck

[test-2]
ext_to_test: topn
dep_order: citus,topn
test_command: make installcheck

[test-3]
ext_to_test: tdigest
dep_order: citus,tdigest
test_command: make installcheck

[test-4]
ext_to_test: citus
dep_order: citus,auto_explain
test_command: make check-vanilla
conf_string: '''
    auto_explain.log_min_duration=0
    auto_explain.log_analyze=1
    auto_explain.log_buffers=1
    auto_explain.log_nested_statements=1
    '''
